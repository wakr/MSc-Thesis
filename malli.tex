% --- Template for thesis / report with tktltiki2 class ---
% 
% last updated 2013/02/15 for tkltiki2 v1.02

\documentclass[english, grading]{tktltiki2}

% tktltiki2 automatically loads babel, so you can simply
% give the language parameter (e.g. finnish, swedish, english, british) as
% a parameter for the class: \documentclass[finnish]{tktltiki2}.
% The information on title and abstract is generated automatically depending on
% the language, see below if you need to change any of these manually.
% 
% Class options:
% - grading                 -- Print labels for grading information on the front page.
% - disablelastpagecounter  -- Disables the automatic generation of page number information
%                              in the abstract. See also \numberofpagesinformation{} command below.
%
% The class also respects the following options of article class:
%   10pt, 11pt, 12pt, final, draft, oneside, twoside,
%   openright, openany, onecolumn, twocolumn, leqno, fleqn
%
% The default font size is 11pt. The paper size used is A4, other sizes are not supported.
%
% rubber: module pdftex

% --- General packages ---

\PassOptionsToPackage{hyphens}{url}
\usepackage[hyphens]{url}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{amsfonts,amsmath,amssymb,amsthm,booktabs,color,enumitem,graphicx}
\usepackage[pdftex,hidelinks]{hyperref}
\usepackage{longtable}
\usepackage{listings}
\usepackage{diagbox}

\usepackage{dirtytalk}

\usepackage{algorithm}
\usepackage{algorithmic}
%\usepackage[bottom]{footmisc}

% Automatically set the PDF metadata fields
\makeatletter
\AtBeginDocument{\hypersetup{pdftitle = {\@title}, pdfauthor = {\@author}}}
\makeatother

% --- Language-related settings ---
%
% these should be modified according to your language

% babelbib for non-english bibliography using bibtex
\usepackage[fixlanguage]{babelbib}
\selectbiblanguage{english}

% add bibliography to the table of contents
\usepackage[nottoc]{tocbibind}
% tocbibind renames the bibliography, use the following to change it back
\settocbibname{References}


% -- Handy shortcuts
\newcommand{\etal}{\textit{et al}. }
\newcommand{\ie}{\textit{i}.\textit{e}., }
\newcommand{\eg}{\textit{e}.\textit{g}. }
\newcommand{\cpp}{C\texttt{++}}
\newcommand{\bolditt}[1]{\mathbf{#1}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}

\DeclareMathOperator*{\argmax}{argmax}

% --- Theorem environment definitions ---
\newtheorem{lau}{Lause}
\newtheorem{lem}[lau]{Lemma}
\newtheorem{kor}[lau]{Korollaari}

\theoremstyle{definition}
\newtheorem{maar}[lau]{Definition}
\newtheorem{ong}{Ongelma}
\newtheorem{alg}[lau]{Algoritmi}
\newtheorem{esim}[lau]{Esimerkki}

\theoremstyle{remark}
\newtheorem*{huom}{Huomautus}

\numberwithin{equation}{section} % equations as (chapter num. , i)

% --- tktltiki2 options ---
%
% The following commands define the information used to generate title and
% abstract pages. The following entries should be always specified:

\title{Automatic Software Plagiarism Detection}
\author{Kristian Wahlroos}
\date{\today}
\level{M.Sc. Thesis}
\abstract{
Plagiarism is an act of copying where one doesn't rightfully credit the original source. The motivations behind plagiarism can vary from gaining economical advantage to even completing academic courses in a desperate way. Plagiarism itself exists in various domains where people want to take credit from something they have worked on. These areas can include e.g. literature, art or software.   

In this study, automatic authorship identification and plagiarism detection from software is analyzed and a model is built on top of findings. The term \textit{automatic} here refers to a system which requires as little as possible human intervention as possible. The goal for the model is to point out possible plagiarism from a collection of documents, which here is specified as a collection of source code files written by various authors. This situation closely related to authorship identification, and thus as a statistical tool, supervised machine learning model is utilized. The latter problem can be stated as \emph{given a document, which author has written this} and \emph{does this document follow the previous style of the author}. 
}

% The following can be used to specify keywords and classification of the paper:

\keywords{plagiarism; authorship identification; }

% classification according to ACM Computing Classification System (http://www.acm.org/about/class/)
% This is probably mostly relevant for computer scientists
% uncomment the following; contents of \classification will be printed under the abstract with a title
% "ACM Computing Classification System (CCS):"
% \classification{}

% If the automatic page number counting is not working as desired in your case,
% uncomment the following to manually set the number of pages displayed in the abstract page:
%
% \numberofpagesinformation{16 sivua + 10 sivua liitteissä}
%
% If you are not a computer scientist, you will want to uncomment the following by hand and specify
% your department, faculty and subject by hand:
%
% \faculty{Matemaattis-luonnontieteellinen}
% \department{Tietojenkäsittelytieteen laitos}
% \subject{Tietojenkäsittelytiede}
%
% If you are not from the University of Helsinki, then you will most likely want to set these also:
%
% \university{Helsingin Yliopisto}
% \universitylong{HELSINGIN YLIOPISTO --- HELSINGFORS UNIVERSITET --- UNIVERSITY OF HELSINKI} % displayed on the top of the abstract page
% \city{Helsinki}
%


% 10-15 pages abstract

\begin{document}

% --- Front matter ---

\frontmatter      % roman page numbering for front matter

\maketitle        % title page
\makeabstract     % abstract page

\tableofcontents  % table of contents

% --- Main matter ---

\mainmatter       % clear page, start arabic page numbering

\section{Introduction}

%What means term plagiarism?
%What is plagiarism?
%Why studied here --> 

Massive Online Courses (MOOCs) are popular autonomous way to complete undergraduate courses offered by various institutes and universities. For example a course \emph{Circuits and Electronics} which was led by Massachusetts Institute of Technology and Harvard University, gathered around 155\,000 registered students from all over the world to a website called \emph{edX}\footnote{\url{https://www.edx.org/}} in 2012 \cite{SLWCRFM2013}. The usual structure of MOOCs is a theory part followed with various graded tasks offered weekly. For example, a course \emph{Ohjelmoinnin MOOC} is a online course offered by University of Helsinki consisting of two parts: introduction and advanced course in Java programming language. Both parts are mandatory undergraduate-level courses, and both are split into seven weeks of workload. During these weeks, students follow the material independently and submit their solutions to various programming tasks that are automatically tested and scored. As the nature of this system is heavily score-based and students are free to choose their working hours without any mandatory attendance, it can create motivation to cheat amongst students. Also the fact that there are over hundred students registered and many submissions per student, makes it time-consuming for teaching assistants to detect possible cheating. 

The word \emph{cheating} here refers to an act of plagiarism and one of the ways to define the verb \emph{plagiarize} is as \say{to steal and pass off (the ideas or words of another) as one's own}\footnote{\url{https://www.merriam-webster.com} Accessed 10th April 2018}, and the person conducting this act is called \emph{a plagiarist}. Source-code plagiarism refers to the act of plagiarism that happens between software, and more specifically between lines of code without a permission. This kind of plagiarism can be also defined as \emph{source-code reuse}, which includes the following four aspects \cite{TDSCP2008}: copying others work without alterations, copying and changing some parts of the code to fool human inspector, converting a solution from one language to another and using code-generators to automatically create a solution. 


Source-code plagiarism in academia is considered as a serious offence and there often exists a zero tolerance for it \cite{TDSCP2008}. This is often stressed at the start of courses and can lead to serious consequences ranging from rejecting the students current course registration to even suspension, but still some students rely on it. Dick \etal points out that in some cases over 80\% of the students were found guilty of cheating if they were given a good enough opportunity \cite{Dick:2002:ASC:782941.783000}. Usual forms of cheating were related to plagiarism and found to be copying solutions from the web, sharing solutions with friends and excessive collaboration between students. The opinions about cheating motives varies between students and academics. Academics reported that cheating is due to three major factors: external pressure, the ease of sharing solutions and cultural differences. Students on the other hand, gave two major reasons: time pressure and heavy workloads.

In this study, we approach the problem of plagiarism detection with machine learning. We build two classifiers: suspicious files based on the similarity scores and authorship identification. Suspicious files are clustered together to reveal clusters of possible plagiarists, where as authorship identification is used to detect if a writing style of an author matches more somebody else's style. The intersection of these two sets is thus believed here to reveal information about possible plagiarists, and ultimately solve the problem of plagiarism detection. 

Following research questions are asked, and answered based on the results:

\begin{itemize}
    \item[Q1:] \emph{How can plagiarism be automatically detected?}
    \item[Q2:] \emph{Can code structure be used as a feature for classification?}
    \item[Q3:] \emph{Does similarity detection and authorship identification together minimize the rate of false-positives?}
\end{itemize}

Rest of this study is structured as follows: in chapter 2, more detailed overview of source code plagiarism is given with a theory of machine learning methods; chapter 3 presents the results of systematic literature review where we focus on methods applied in current studies; in chapter 4, our method of using two classifiers and the real-life data set are presented; chapter 5 presents the results by comparing our method to two popular baselines and answers to the previous research questions; chapter 6 presents possible problems when automatic system is used to accuse students from plagiarism. 

\section{Background}

\newtheorem*{sc-plg}{Plagiarism detection}
\begin{sc-plg}
Given a set of documents $D = \{d_1, d_2, ..., d_n\}$ called corpus and a set of authors $A = \{a_1, a_2, ..., a_k\}$ which are writers of these documents, define a function $f$ that is able to classify which document pairs $\{d_i, d_j\} \subset D$ are plagiarized, and who are possible plagiarists from the set of authors $A$.
\end{sc-plg}

Above formalization gives an overview of the problem that is studied in this thesis, and it's notable that there are some things that has deliberately been left out. For example we don't try to reveal the \emph{direction} of plagiarism, we don't use the creation process and we only consider authors inside a pre-known set. To understand the nuances that are relevant to source-code plagiarism, we define some imporant themes and terms next.

\input{bg/background.tex}

\newpage

\section{Related Work}
\input{liter_review/high_results.tex}

\subsubsection{Data}
\input{liter_review/data.tex}

\subsubsection{Methods}
\input{liter_review/methods.tex}

\subsubsection{Accuracies}
\input{liter_review/accuracies.tex}



\section{Methodology}
\subsection{Context}
% Course in Uni helsinki etc.
\subsection{Data}
\subsubsection{Preprocessing}
\subsubsection{}
\subsection{Research question}

\section{Results}

\section{Discussion}

\section{Conclusion}


%

% --- References ---
%
% bibtex is used to generate the bibliography. The babplain style
% will generate numeric references (for example [1]) appropriate for theoretical
% computer science. If you need alphanumeric references (e.g [Tur90]), use
%
%\bibliographystyle{babalpha-lf}
%
% instead.
\newpage
\bibliographystyle{babplain-lf}
\bibliography{references-fi}


% --- Appendices ---

% uncomment the following

\newpage
\appendix
% 

\lstdefinestyle{mystyle}{
    tabsize=2,
    breakatwhitespace=false,         
    breaklines=true,                 
    keepspaces=true,
    numbers=left,
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,
    numberstyle=\small,
    numbersep=8pt,
    frame = single,
    framexleftmargin=15pt,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{red}
}
 
\lstset{style=mystyle}

\section{Sample programs}

These two source codes belong to two authors A and B. They are used throughout the study as examples. The task for both is to create a program that calculates mean between three numbers: 5, 10, 2.

\begin{lstlisting}[language=Java, caption=Java example belonging to author A]
public class Sample{

     public static void main(String []args){
        int a = 5;
        int b = 10;
        int c = 2;
        double d = (a + b + c)/3;
        System.out.println(d);
     }
}
\end{lstlisting}

\begin{lstlisting}[language=Java, caption=Java example belonging to author B]
public class Sample{

     public static void main(String []args){
        int sum = 5 + 10 + 2
        double res = sum / 3.0
        System.out.println(res);
     }
}
\end{lstlisting}

\end{document}
